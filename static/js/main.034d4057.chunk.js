(this.webpackJsonppizza=this.webpackJsonppizza||[]).push([[0],{119:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),r=c(7),i=c.n(r),o=(c(90),c(21)),s=c(23),u=c(64),j=c(26),d={fetching:!1,products:[]},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_PRODUCT":return Object(j.a)(Object(j.a)({},t),{},{fetching:!0,error:null});case"FETCH_PRODUCT_SUCCESS":return Object(j.a)(Object(j.a)({},t),{},{fetching:!1,products:e.products});case"FETCH_PRODUCT_ERROR":return Object(j.a)(Object(j.a)({},t),{},{fetching:!1,error:e.error});default:return t}},b=c(25),p=c(33),O=c.n(p),h=[],m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_CART":var c=O.a.find(t,(function(t){return t.product._id===e.payload.product._id}));if(c){c.amount++;var n=t.filter((function(t){return t.product._id!==e.payload.product._id})),a=[].concat(Object(b.a)(n||[]),[c]);return a}var r=[].concat(Object(b.a)(t||[]),[e.payload]);return r;case"REMOVE_CART":var i=t.filter((function(t){return t.product._id!==e.payload.product._id}));return i;case"UPDATE_CART":var o=O.a.find(t,(function(t){return t.product._id===e.payload.product._id}));if(o){var s=t.filter((function(t){return t.product._id!==e.payload.product._id})),u=[].concat(Object(b.a)(s||[]),[o]);return u}return t;case"CLEAR_CART":return[];case"GET_CART":default:return t}},x=Object(s.c)({products:l,carts:m}),f=Object(s.a)(u.a)(s.d)(x,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),g=c(150),v=c(143),_=c(8),y=c(19),C=c.n(y),S=c(24),E=function(t,e){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(n.useState)([]),r=Object(_.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(!1),u=Object(_.a)(s,2),j=u[0],d=u[1],l=Object(n.useState)(!1),p=Object(_.a)(l,2),O=p[0],h=p[1],m=function(){var c=Object(S.a)(C.a.mark((function c(){return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,d(!0),c.t0=o,c.next=5,t.apply(void 0,Object(b.a)(e));case 5:c.t1=c.sent,(0,c.t0)(c.t1),c.next=12;break;case 9:c.prev=9,c.t2=c.catch(0),h(!0);case 12:return c.prev=12,d(!1),c.finish(12);case 15:case"end":return c.stop()}}),c,null,[[0,9,12,15]])})));return function(){return c.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&m()}),[]),[i,j,O,m]},R=c(65),T=c.n(R).a.create({baseURL:"https://test.pizzahut1150.com/api/"}),k={post:function(t,e,c){return T.post(t,e,c)},get:function(t,e){return T.get(t,e)}},w={getProduct:function(){var t=Object(S.a)(C.a.mark((function t(){var e,c,n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/products/",t.next=3,k.get("/products/");case 3:return e=t.sent,c=e.data,n=c,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},z=c(146),L=c(139),A=c(152),D=c(142),N=c(147),F=c(145),U=c(144),B=c(148),P=c(66),I=c.n(P),G=function(t){return{type:"UPDATE_CART",payload:{product:t}}},J=c(2),V=Object(L.a)({root:{maxWidth:345},media:{height:140,backgroundSize:"contain"},floatRight:{marginLeft:"auto"}}),W=function(t){var e=V(),c=Object(o.b)(),n=t.product,a=function(){c(function(t){return{type:"ADD_CART",payload:{product:t,amount:1,id:(new Date).getTime()}}}(n))};return Object(J.jsxs)(A.a,{className:e.root,children:[Object(J.jsx)(D.a,{children:Object(J.jsxs)(v.a,{container:!0,children:[Object(J.jsx)(v.a,{item:!0,xs:4,md:4,children:Object(J.jsx)(U.a,{className:e.media,image:"https://test.pizzahut1150.com"+n.image_th,title:n.imagealt_th})}),Object(J.jsx)(v.a,{item:!0,xs:8,md:8,children:Object(J.jsxs)(F.a,{children:[Object(J.jsx)(z.a,{component:"h3",children:n.product_name_th}),Object(J.jsx)(I.a,{text:n.product_detail_th,maxLine:"3",ellipsis:"...",trimRight:!0,basedOn:"letters"}),Object(J.jsxs)(z.a,{variant:"subtitle2",children:["\u0e3f ",n.price]})]})})]})}),Object(J.jsx)(N.a,{children:Object(J.jsx)(B.a,{size:"small",color:"primary",className:e.floatRight,onClick:function(){a()},children:"Add Card"})})]})},M=function(t){var e=E(w.getProduct,[]),c=Object(_.a)(e,4),n=c[0],a=c[1],r=c[2];c[3];return Object(J.jsxs)("div",{children:[Object(J.jsx)(z.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),a?Object(J.jsx)("div",{children:"fetching..."}):r?Object(J.jsx)("div",{children:"Fetch Error"}):Object(J.jsx)(v.a,{container:!0,spacing:2,children:n.map((function(t,e){return Object(J.jsx)(v.a,{item:!0,xs:12,sm:6,md:4,children:Object(J.jsx)(W,{product:t})},t.product_id)}))})]})},X=c(73),H=c.n(X),K=c(72),Z=c.n(K),q=c(71),Q=c.n(q),Y=c(149),$=Object(L.a)({root:{maxWidth:345},media:{height:80,backgroundSize:"contain"},myCartButton:{minWidth:40},myRemoveButton:{minWidth:40,marginLeft:"auto"},floatRight:{marginLeft:"auto"}}),tt=function(t){var e=$(),c=Object(o.b)(),n=t.cart;return Object(J.jsxs)(A.a,{className:e.root,children:[Object(J.jsx)(D.a,{children:Object(J.jsxs)(v.a,{container:!0,children:[Object(J.jsx)(v.a,{item:!0,xs:4,md:4,children:Object(J.jsx)(U.a,{className:e.media,image:"https://test.pizzahut1150.com"+n.product.image_th,title:n.product.imagealt_th})}),Object(J.jsx)(v.a,{item:!0,xs:8,md:8,children:Object(J.jsxs)(F.a,{children:[Object(J.jsxs)(z.a,{component:"h3",children:[n.product.product_name_th," (\u0e3f ",n.product.price,"/\u0e0a\u0e34\u0e49\u0e19)"]}),Object(J.jsxs)(z.a,{variant:"subtitle2",children:["Total : \u0e3f ",n.amount*n.product.price]})]})})]})}),Object(J.jsx)(Y.a,{}),Object(J.jsxs)(N.a,{children:[Object(J.jsx)(B.a,{size:"small",color:"primary",className:e.myCartButton,onClick:function(){n.amount>1&&(n.amount--,c(G(n.product)))},children:Object(J.jsx)(Q.a,{})}),Object(J.jsxs)(z.a,{variant:"subtitle2",children:["\u0e08\u0e33\u0e19\u0e27\u0e19 ",n.amount," \u0e0a\u0e34\u0e49\u0e19"]}),Object(J.jsx)(B.a,{size:"small",color:"primary",className:e.myCartButton,onClick:function(){n.amount<9&&(n.amount++,c(G(n.product)))},children:Object(J.jsx)(Z.a,{})}),Object(J.jsx)(Y.a,{orientation:"vertical",flexItem:!0}),Object(J.jsx)(B.a,{size:"small",color:"primary",className:e.myCartButton,onClick:function(){c({type:"REMOVE_CART",payload:{product:n.product}})},children:Object(J.jsx)(H.a,{})})]})]})},et=function(t){var e=Object(o.c)((function(t){return t.carts}));return Object(n.useEffect)((function(){console.log("Cart Update",e,e.length)}),[e]),Object(J.jsxs)("div",{children:[Object(J.jsx)(z.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"\u0e15\u0e30\u0e01\u0e23\u0e49\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(J.jsx)(v.a,{container:!0,spacing:2,children:e.length>0&&O.a.orderBy(e,["id"]).map((function(t,e){return Object(J.jsx)(v.a,{item:!0,xs:12,children:Object(J.jsx)(tt,{cart:t})},t.id)}))})]})},ct={getLocation:function(){var t=Object(S.a)(C.a.mark((function t(){var e,c,n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/address/location",t.next=3,k.get("/address/location");case 3:return e=t.sent,c=e.data,n=c,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},nt=c(37),at=c(44),rt=c(74),it=c.n(rt),ot=c(153),st=c(151),ut={width:"100%",height:"500px"},jt={fillColor:"lightblue",fillOpacity:.5,strokeColor:"blue",strokeOpacity:1,strokeWeight:1,clickable:!1,draggable:!1,editable:!1,geodesic:!1,zIndex:1},dt=Object(L.a)((function(t){return Object(ot.a)({paper:{position:"absolute",width:280,backgroundColor:t.palette.background.paper,border:"2px solid #000",boxShadow:t.shadows[5],padding:t.spacing(2,4,3)}})})),lt=function(t){var e=dt(),c=t.location,r=Object(nt.d)({googleMapsApiKey:"AIzaSyDkC_udSZKGGVZg_6vU2Uqc7EJBCOOjm8U",libraries:["places"]}),i=r.isLoaded,o=(r.loadError,a.a.useState((function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}))),s=Object(_.a)(o,1)[0],u=Object(n.useState)({lat:7.5549,lng:99.615}),j=Object(_.a)(u,2),d=j[0],l=j[1],b=Object(n.useState)(13),p=Object(_.a)(b,2),O=p[0],h=p[1],m=function(t){},x=Object(n.useState)(null),f=Object(_.a)(x,2),g=f[0],y=f[1],C=Object(n.useState)(null),S=Object(_.a)(C,2),E=S[0],R=S[1],T=Object(n.useState)(["","","",""]),k=Object(_.a)(T,2),w=k[0],z=k[1],L=a.a.useState(!1),A=Object(_.a)(L,2),D=A[0],N=A[1];return Object(n.useEffect)((function(){g&&null!==g&&""!==g.label&&Object(at.b)(g.label).then((function(t){return Object(at.c)(t[0])})).then((function(t){var e=t.lat,n=t.lng;R(new google.maps.LatLng({lat:e,lng:n})),l({lat:e,lng:n}),h(15),c.features.map((function(t,c){var a=t.geometry.coordinates.map((function(t,e){return t.map((function(t,e){return[t[1],t[0]]}))}));it()([e,n],a[0])&&(z([t.properties.StoreName,t.properties.Remark,t.properties.Grid.toString(),t.properties.Join.toString()]),N(!0))}))}))}),[g]),i?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(at.a,{selectProps:{value:g,onChange:y}}),Object(J.jsxs)(nt.a,{mapContainerStyle:ut,center:d,zoom:O,children:[c.features.map((function(t,e){var c=t.geometry.coordinates;console.log(c);var n=t.geometry.coordinates[0].map((function(t){return{lng:parseFloat(t[0]),lat:parseFloat(t[1])}}));return Object(J.jsx)(nt.c,{onLoad:m,paths:n,options:jt},e)})),null!==E&&Object(J.jsx)(nt.b,{position:E})]}),Object(J.jsx)(st.a,{open:D,onClose:function(){N(!1)},children:Object(J.jsx)("div",{className:e.paper,style:s,children:Object(J.jsxs)(v.a,{container:!0,spacing:3,children:[Object(J.jsx)(v.a,{item:!0,xs:12,sm:5,children:"Store Name :"}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:7,children:w[0]}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:5,children:"Remark :"}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:7,children:w[1]}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:5,children:"Gird :"}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:7,children:w[2]}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:5,children:"Join :"}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:7,children:w[3]})]})})})]}):Object(J.jsx)(J.Fragment,{})},bt=function(t){var e=function(t,e){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(n.useState)({type:"",name:"",crs:{type:"",properties:{name:""}},features:[]}),r=Object(_.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(!1),u=Object(_.a)(s,2),j=u[0],d=u[1],l=Object(n.useState)(!1),p=Object(_.a)(l,2),O=p[0],h=p[1],m=function(){var c=Object(S.a)(C.a.mark((function c(){return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,d(!0),c.t0=o,c.next=5,t.apply(void 0,Object(b.a)(e));case 5:c.t1=c.sent,(0,c.t0)(c.t1),c.next=12;break;case 9:c.prev=9,c.t2=c.catch(0),h(!0);case 12:return c.prev=12,d(!1),c.finish(12);case 15:case"end":return c.stop()}}),c,null,[[0,9,12,15]])})));return function(){return c.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&m()}),[]),[i,j,O,m]}(ct.getLocation,[]),c=Object(_.a)(e,4),a=c[0],r=c[1],i=c[2];c[3];return Object(n.useEffect)((function(){console.log(a)}),[a]),Object(J.jsxs)("div",{children:[Object(J.jsx)(z.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Location"}),r?Object(J.jsx)("div",{children:"fetching..."}):i?Object(J.jsx)("div",{children:"Fetch Error"}):Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(lt,{location:a})})]})};var pt=function(){return Object(J.jsx)(o.a,{store:f,children:Object(J.jsx)(g.a,{style:{padding:"12px 24px"},children:Object(J.jsxs)(v.a,{container:!0,spacing:2,children:[Object(J.jsx)(v.a,{item:!0,xs:12,sm:8,md:9,style:{borderRight:"1px dashed #ccc"},children:Object(J.jsx)(M,{})}),Object(J.jsx)(v.a,{item:!0,xs:12,sm:4,md:3,children:Object(J.jsx)(et,{})}),Object(J.jsx)(v.a,{item:!0,xs:12,children:Object(J.jsx)(bt,{})})]})})})},Ot=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,155)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;c(t),n(t),a(t),r(t),i(t)}))};i.a.render(Object(J.jsx)(a.a.StrictMode,{children:Object(J.jsx)(pt,{})}),document.getElementById("root")),Ot()},90:function(t,e,c){}},[[119,1,2]]]);
//# sourceMappingURL=main.034d4057.chunk.js.map