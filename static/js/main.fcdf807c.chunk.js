(this.webpackJsonppizza=this.webpackJsonppizza||[]).push([[0],{112:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(14),i=n.n(r),o=(n(83),n(18)),s=n(19),u=n(56),d=n(22),j={fetching:!1,products:[]},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_PRODUCT":return Object(d.a)(Object(d.a)({},t),{},{fetching:!0,error:null});case"FETCH_PRODUCT_SUCCESS":return Object(d.a)(Object(d.a)({},t),{},{fetching:!1,products:e.products});case"FETCH_PRODUCT_ERROR":return Object(d.a)(Object(d.a)({},t),{},{fetching:!1,error:e.error});default:return t}},p=n(21),b=n(30),h=n.n(b),O=[],m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_CART":var n=h.a.find(t,(function(t){return t.product._id===e.payload.product._id}));if(n){n.amount++;var c=t.filter((function(t){return t.product._id!==e.payload.product._id})),a=[].concat(Object(p.a)(c||[]),[n]);return a}var r=[].concat(Object(p.a)(t||[]),[e.payload]);return r;case"REMOVE_CART":var i=t.filter((function(t){return t.product._id!==e.payload.product._id}));return i;case"UPDATE_CART":var o=h.a.find(t,(function(t){return t.product._id===e.payload.product._id}));if(o){var s=t.filter((function(t){return t.product._id!==e.payload.product._id})),u=[].concat(Object(p.a)(s||[]),[o]);return u}return t;case"CLEAR_CART":return[];case"GET_CART":default:return t}},f=Object(s.c)({products:l,carts:m}),x=Object(s.a)(u.a)(s.d)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),g=n(138),v=n(131),_=n(13),y=n(16),C=n.n(y),E=n(20),R=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(c.useState)([]),r=Object(_.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)(!1),u=Object(_.a)(s,2),d=u[0],j=u[1],l=Object(c.useState)(!1),b=Object(_.a)(l,2),h=b[0],O=b[1],m=function(){var n=Object(E.a)(C.a.mark((function n(){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,j(!0),n.t0=o,n.next=5,t.apply(void 0,Object(p.a)(e));case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=12;break;case 9:n.prev=9,n.t2=n.catch(0),O(!0);case 12:return n.prev=12,j(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){n&&m()}),[]),[i,d,h,m]},T=n(57),k=n.n(T).a.create({baseURL:"https://test.pizzahut1150.com/api/"}),w={post:function(t,e,n){return k.post(t,e,n)},get:function(t,e){return k.get(t,e)}},S={getProduct:function(){var t=Object(E.a)(C.a.mark((function t(){var e,n,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/products/",t.next=3,w.get("/products/");case 3:return e=t.sent,n=e.data,c=n,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},z=n(134),L=n(128),A=n(139),D=n(130),B=n(135),U=n(133),F=n(132),N=n(136),P=n(58),I=n.n(P),V=function(t){return{type:"UPDATE_CART",payload:{product:t}}},W=n(2),M=Object(L.a)({root:{maxWidth:345},media:{height:140,backgroundSize:"contain"},floatRight:{marginLeft:"auto"}}),X=function(t){var e=M(),n=Object(o.b)(),c=t.product,a=function(){n(function(t){return{type:"ADD_CART",payload:{product:t,amount:1,id:(new Date).getTime()}}}(c))};return Object(W.jsxs)(A.a,{className:e.root,children:[Object(W.jsx)(D.a,{children:Object(W.jsxs)(v.a,{container:!0,children:[Object(W.jsx)(v.a,{item:!0,xs:12,md:4,children:Object(W.jsx)(F.a,{className:e.media,image:"https://test.pizzahut1150.com"+c.image_th,title:c.imagealt_th})}),Object(W.jsx)(v.a,{item:!0,xs:12,md:8,children:Object(W.jsxs)(U.a,{children:[Object(W.jsx)(z.a,{component:"h3",children:c.product_name_th}),Object(W.jsx)(I.a,{text:c.product_detail_th,maxLine:"3",ellipsis:"...",trimRight:!0,basedOn:"letters"}),Object(W.jsxs)(z.a,{variant:"subtitle2",children:["\u0e3f ",c.price]})]})})]})}),Object(W.jsx)(B.a,{children:Object(W.jsx)(N.a,{size:"small",color:"primary",className:e.floatRight,onClick:function(){a()},children:"Add Card"})})]})},G=function(t){var e=R(S.getProduct,[]),n=Object(_.a)(e,4),c=n[0],a=n[1],r=n[2];n[3];return Object(W.jsxs)("div",{children:[Object(W.jsx)(z.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),a?Object(W.jsx)("div",{children:"fetching..."}):r?Object(W.jsx)("div",{children:"Fetch Error"}):Object(W.jsx)(v.a,{container:!0,spacing:2,children:c.map((function(t,e){return Object(W.jsx)(v.a,{item:!0,xs:12,sm:6,md:4,children:Object(W.jsx)(X,{product:t})},t.product_id)}))})]})},H=n(65),J=n.n(H),K=n(64),Z=n.n(K),q=n(63),Q=n.n(q),Y=n(137),$=Object(L.a)({root:{maxWidth:345},media:{height:80,backgroundSize:"contain"},myCartButton:{minWidth:40},myRemoveButton:{minWidth:40,marginLeft:"auto"},floatRight:{marginLeft:"auto"}}),tt=function(t){var e=$(),n=Object(o.b)(),c=t.cart;return Object(W.jsxs)(A.a,{className:e.root,children:[Object(W.jsx)(D.a,{children:Object(W.jsxs)(v.a,{container:!0,children:[Object(W.jsx)(v.a,{item:!0,xs:12,md:4,children:Object(W.jsx)(F.a,{className:e.media,image:"https://test.pizzahut1150.com"+c.product.image_th,title:c.product.imagealt_th})}),Object(W.jsx)(v.a,{item:!0,xs:12,md:8,children:Object(W.jsxs)(U.a,{children:[Object(W.jsxs)(z.a,{component:"h3",children:[c.product.product_name_th," (\u0e3f ",c.product.price,"/\u0e0a\u0e34\u0e49\u0e19)"]}),Object(W.jsxs)(z.a,{variant:"subtitle2",children:["Total : \u0e3f ",c.amount*c.product.price]})]})})]})}),Object(W.jsx)(Y.a,{}),Object(W.jsxs)(B.a,{children:[Object(W.jsx)(N.a,{size:"small",color:"primary",className:e.myCartButton,onClick:function(){c.amount>1&&(c.amount--,n(V(c.product)))},children:Object(W.jsx)(Q.a,{})}),Object(W.jsxs)(z.a,{variant:"subtitle2",children:["\u0e08\u0e33\u0e19\u0e27\u0e19 ",c.amount," \u0e0a\u0e34\u0e49\u0e19"]}),Object(W.jsx)(N.a,{size:"small",color:"primary",className:e.myCartButton,onClick:function(){c.amount<9&&(c.amount++,n(V(c.product)))},children:Object(W.jsx)(Z.a,{})}),Object(W.jsx)(Y.a,{orientation:"vertical",flexItem:!0}),Object(W.jsx)(N.a,{size:"small",color:"primary",className:e.myCartButton,onClick:function(){n({type:"REMOVE_CART",payload:{product:c.product}})},children:Object(W.jsx)(J.a,{})})]})]})},et=function(t){var e=Object(o.c)((function(t){return t.carts}));return Object(c.useEffect)((function(){console.log("Cart Update",e,e.length)}),[e]),Object(W.jsxs)("div",{children:[Object(W.jsx)(z.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"\u0e15\u0e30\u0e01\u0e23\u0e49\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(W.jsx)(v.a,{container:!0,spacing:2,children:e.length>0&&h.a.orderBy(e,["id"]).map((function(t,e){return Object(W.jsx)(v.a,{item:!0,xs:12,children:Object(W.jsx)(tt,{cart:t})},t.id)}))})]})},nt={getLocation:function(){var t=Object(E.a)(C.a.mark((function t(){var e,n,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/address/location",t.next=3,w.get("/address/location");case 3:return e=t.sent,n=e.data,c=n,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},ct=n(38),at={width:"100%",height:"500px"},rt={lng:99.615,lat:7.5549},it={fillColor:"lightblue",fillOpacity:.5,strokeColor:"blue",strokeOpacity:1,strokeWeight:1,clickable:!1,draggable:!1,editable:!1,geodesic:!1,zIndex:1},ot=function(t){var e=t.location,n=Object(ct.c)({id:"google-map-script",googleMapsApiKey:"AIzaSyDkC_udSZKGGVZg_6vU2Uqc7EJBCOOjm8U"}).isLoaded,c=a.a.useState(null),r=Object(_.a)(c,2),i=(r[0],r[1]),o=a.a.useCallback((function(t){var e=new window.google.maps.LatLngBounds;t.fitBounds(e),i(t)}),[]),s=function(t){},u=a.a.useCallback((function(t){i(null)}),[]);return n?Object(W.jsx)(ct.a,{mapContainerStyle:at,center:rt,zoom:12.5,onLoad:o,onUnmount:u,children:e.features.map((function(t,e){var n=t.geometry.coordinates[0].map((function(t){return{lng:parseFloat(t[0]),lat:parseFloat(t[1])}}));return Object(W.jsx)(ct.b,{onLoad:s,paths:n,options:it},e)}))}):Object(W.jsx)(W.Fragment,{})},st=function(t){var e=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(c.useState)({type:"",name:"",crs:{type:"",properties:{name:""}},features:[]}),r=Object(_.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)(!1),u=Object(_.a)(s,2),d=u[0],j=u[1],l=Object(c.useState)(!1),b=Object(_.a)(l,2),h=b[0],O=b[1],m=function(){var n=Object(E.a)(C.a.mark((function n(){return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,j(!0),n.t0=o,n.next=5,t.apply(void 0,Object(p.a)(e));case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=12;break;case 9:n.prev=9,n.t2=n.catch(0),O(!0);case 12:return n.prev=12,j(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}();return Object(c.useEffect)((function(){n&&m()}),[]),[i,d,h,m]}(nt.getLocation,[]),n=Object(_.a)(e,4),a=n[0],r=n[1],i=n[2];n[3];return Object(c.useEffect)((function(){console.log(a)}),[a]),Object(W.jsxs)("div",{children:[Object(W.jsx)(z.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"Location"}),r?Object(W.jsx)("div",{children:"fetching..."}):i?Object(W.jsx)("div",{children:"Fetch Error"}):Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(ot,{location:a})})]})};var ut=function(){return Object(W.jsx)(o.a,{store:x,children:Object(W.jsx)(g.a,{style:{padding:"12px 24px"},children:Object(W.jsxs)(v.a,{container:!0,spacing:2,children:[Object(W.jsx)(v.a,{item:!0,xs:9,style:{borderRight:"1px dashed #ccc"},children:Object(W.jsx)(G,{})}),Object(W.jsx)(v.a,{item:!0,xs:3,children:Object(W.jsx)(et,{})}),Object(W.jsx)(v.a,{item:!0,xs:12,children:Object(W.jsx)(st,{})})]})})})},dt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),c(t),a(t),r(t),i(t)}))};i.a.render(Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsx)(ut,{})}),document.getElementById("root")),dt()},83:function(t,e,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.fcdf807c.chunk.js.map